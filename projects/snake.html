<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Snake</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Rubik:wght@500&family=Ubuntu:wght@700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="..\style.css" />
    <script src="..\main.js"></script>
  </head>

    <div class="nav-wrapper">
      <div class="left-side">
        <div class="nav-links"><a href="..\index.html"> Home </a></div>
        <div class="nav-links"><a href="..\aboutme.html"> About Me </a></div>
        <div class="nav-links"><a href="..\contact.html"> Contact </a></div>
      </div>
      <div class="right-side">
        <div class="name">Mikayla Hutchinson</div>
      </div>
    </div>

  <body >
    <div class="snake-heading">
      <h1>Snake</h1>
    </div>

    <div class="snake-body">

      <div id='game-board'></div>

    </div>
  </body>

  <script type='module'>
    

    /* import section 1*/
    // const snakeSpeed=2
    // const snakeBody= [{ x: 11, y: 11}]

    // function updateSnake() {
    //   const inputDirection=getInputDirection()
    //   for (let i=snakeBody.length-2; i>=0; i--) {
    //     snakeBody[i+1]={ ...snakeBody[i]}
    //   }
    //   snakeBody[0].x +=inputDirection.x
    //   snakeBody[0].y +=inputDirection.y
    // }

    // function drawSnake(gameBoard) {
    //     snakeBody.forEach(segment => {
    //       const snakeElement = document.createElement('div')
    //       snakeElement.style.gridRowStart = segment.y
    //       snakeElement.style.gridColumnStart = segment.x
    //       snakeElement.classList.add('snake')
    //       gameBoard.appendChild(snakeElement)
    //     })
    // }
    /* end import */
    // inport section 2

    // let inputDirection = {x:0, y:0}
    // let lastInputDirection = {x:0, y:0}

    // window.addEventListener('keydown', e => {
    //   switch (e.key) {
    //     case 'ArrowUp':
    //       if (lastInputDirection.y!==0) break
    //       inputDirection={x:0, y:-1}
    //       break
    //     case 'ArrowDown':
    //       if (lastInputDirection.y!==0) break
    //       inputDirection={x:0, y:+1}
    //       break
    //     case 'ArrowLeft':
    //       if (lastInputDirection.x!==0) break
    //       inputDirection={x:-1, y:0}
    //       break
    //     case 'ArrowRight':
    //       if (lastInputDirection.x!==0) break
    //       inputDirection={x:+1, y:0}
    //       break
    //   }
    // })
    
    

    // function getInputDirection() {
    //   return inputDirection
    // }
    
    import {update as updateSnake, draw as drawSnake, snakeSpeed} from './snake-external-JS/snake.js'
    import {update as updateFood, draw as drawFood} from 'http://localhost:8000/snake-external-JS/food.js'
    // end import

    let lastRenderTime=0
    const gameBoard=document.getElementById('game-board')

    function main(currentTime) {
      window.requestAnimationFrame(main)
      const secondsSinceLastRender=(currentTime-lastRenderTime)/1000
      if (secondsSinceLastRender < 1 / snakeSpeed) return

      lastRenderTime=currentTime

      update()
      draw()

    }

    window.requestAnimationFrame(main)

    
    function update( ) {
      updateSnake()
      updateFood()
    }

    function draw() {
      gameBoard.innerHTML=''
      drawSnake(gameBoard)
      drawFood(gameBoard)
    }

  </script>

</html>
